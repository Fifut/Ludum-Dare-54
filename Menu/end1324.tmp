[gd_scene load_steps=7 format=3 uid="uid://thq4t6x13aq2"]

[ext_resource type="Script" path="res://Menu/end_game.gd" id="1_8iref"]
[ext_resource type="FontFile" uid="uid://pnbn0lg56d7u" path="res://Assets/Font/Race Sport.ttf" id="1_mdfua"]
[ext_resource type="Theme" uid="uid://dvwj3lop7am8f" path="res://Menu/main_theme.tres" id="1_t3ht1"]
[ext_resource type="Texture2D" uid="uid://bbmdionjirauv" path="res://Assets/Gamepad/button_xbox_digital_b_6.png" id="4_xfy1a"]
[ext_resource type="Script" path="res://WebSocket/client.gd" id="5_x7q2a"]
[ext_resource type="Script" path="res://websocket/websocket/WebSocketClient.gd" id="6_i3ttu"]

[node name="EndGame" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_t3ht1")
script = ExtResource("1_8iref")

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 100
theme_override_constants/margin_top = 100
theme_override_constants/margin_right = 100
theme_override_constants/margin_bottom = 100

[node name="ColorRect" type="ColorRect" parent="MarginContainer"]
layout_mode = 2
color = Color(0, 0, 0, 0.745098)

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer"]
layout_mode = 2
size_flags_vertical = 4
theme_override_constants/separation = 20

[node name="TitleLabel" type="Label" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 1
theme_override_fonts/font = ExtResource("1_mdfua")
theme_override_font_sizes/font_size = 60
text = "Game over"
horizontal_alignment = 1

[node name="ScoreLabel" type="Label" parent="MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Orbiting satellite : 0"
horizontal_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 30
alignment = 1

[node name="RLabel" type="Label" parent="MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 28
text = "R"
horizontal_alignment = 1

[node name="BTextureRect" type="TextureRect" parent="MarginContainer/VBoxContainer/HBoxContainer"]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
texture = ExtResource("4_xfy1a")
expand_mode = 1
stretch_mode = 4

[node name="RestartLabel" type="Label" parent="MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "to restart"
horizontal_alignment = 1

[node name="Space1" type="Control" parent="MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 10)
layout_mode = 2

[node name="HSeparator" type="HSeparator" parent="MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 5)
layout_mode = 2

[node name="LeaderboardLabel" type="Label" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 0.286275, 0.223529, 1)
theme_override_font_sizes/font_size = 56
text = "LEADERBOARD"
horizontal_alignment = 1

[node name="SubmitLeaderboard" type="HBoxContainer" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 30
alignment = 1

[node name="NameLabel" type="Label" parent="MarginContainer/VBoxContainer/SubmitLeaderboard"]
layout_mode = 2
text = "Name : "

[node name="NameLineEdit" type="LineEdit" parent="MarginContainer/VBoxContainer/SubmitLeaderboard"]
unique_name_in_owner = true
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
placeholder_text = "Your name"
max_length = 20
context_menu_enabled = false
clear_button_enabled = true
shortcut_keys_enabled = false
middle_mouse_paste_enabled = false

[node name="SubmitButton" type="Button" parent="MarginContainer/VBoxContainer/SubmitLeaderboard"]
layout_mode = 2
text = "Submit & Restart"

[node name="Space2" type="Control" parent="MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 10)
layout_mode = 2

[node name="LeaderGridContainer" type="GridContainer" parent="MarginContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(750, 0)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_constants/h_separation = 10
theme_override_constants/v_separation = 10
columns = 3

[node name="Lead1" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead1"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "01: "

[node name="Name1" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead1"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead2" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead2"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "02: "

[node name="Name2" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead2"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead3" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead3"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "03: "

[node name="Name3" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead3"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead4" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead4"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "04: "

[node name="Name4" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead4"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead5" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead5"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "05: "

[node name="Name5" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead5"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead6" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead6"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "06: "

[node name="Name6" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead6"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead7" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead7"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "07: "

[node name="Name7" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead7"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead8" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead8"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "08: "

[node name="Name8" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead8"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead9" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead9"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "09: "

[node name="Name9" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead9"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead10" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead10"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "10: "

[node name="Name10" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead10"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead11" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead11"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "11: "

[node name="Name11" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead11"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead12" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead12"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "12: "

[node name="Name12" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead12"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead13" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead13"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "13: "

[node name="Name13" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead13"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead14" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead14"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "14: "

[node name="Name14" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead14"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="Lead15" type="HBoxContainer" parent="MarginContainer/VBoxContainer/LeaderGridContainer"]
layout_mode = 2

[node name="Num" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead15"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2
text = "15: "

[node name="Name15" type="Label" parent="MarginContainer/VBoxContainer/LeaderGridContainer/Lead15"]
custom_minimum_size = Vector2(250, 0)
layout_mode = 2
text = "Player 1"

[node name="WebSocket" type="Control" parent="."]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("5_x7q2a")

[node name="WebSocketClient" type="Node" parent="WebSocket"]
script = ExtResource("6_i3ttu")
supported_protocols = PackedStringArray("demo-chat")

[node name="Panel" type="Panel" parent="WebSocket"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="WebSocket/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Listen" type="HBoxContainer" parent="WebSocket/Panel/VBoxContainer"]
layout_mode = 2

[node name="Connect" type="HBoxContainer" parent="WebSocket/Panel/VBoxContainer"]
layout_mode = 2

[node name="Host" type="LineEdit" parent="WebSocket/Panel/VBoxContainer/Connect"]
layout_mode = 2
size_flags_horizontal = 3
text = "ws://localhost:8000/test/"
placeholder_text = "ws://my.server/path/"

[node name="Connect" type="Button" parent="WebSocket/Panel/VBoxContainer/Connect"]
layout_mode = 2
toggle_mode = true
text = "Connect"

[node name="Port" type="SpinBox" parent="WebSocket/Panel/VBoxContainer/Connect"]
visible = false
layout_mode = 2
min_value = 1.0
max_value = 65535.0
value = 8000.0

[node name="Listen" type="Button" parent="WebSocket/Panel/VBoxContainer/Connect"]
visible = false
layout_mode = 2
toggle_mode = true
text = "Listen"

[node name="Send" type="HBoxContainer" parent="WebSocket/Panel/VBoxContainer"]
layout_mode = 2

[node name="LineEdit" type="LineEdit" parent="WebSocket/Panel/VBoxContainer/Send"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Enter some text to send..."

[node name="Send" type="Button" parent="WebSocket/Panel/VBoxContainer/Send"]
layout_mode = 2
text = "Send"

[node name="RichTextLabel" type="RichTextLabel" parent="WebSocket/Panel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[connection signal="visibility_changed" from="." to="." method="_on_visibility_changed"]
[connection signal="pressed" from="MarginContainer/VBoxContainer/SubmitLeaderboard/SubmitButton" to="." method="_on_submit_button_pressed"]
[connection signal="message_received" from="WebSocket/WebSocketClient" to="." method="_on_web_socket_client_message_received"]
[connection signal="toggled" from="WebSocket/Panel/VBoxContainer/Connect/Connect" to="WebSocket" method="_on_connect_toggled" flags=18]
[connection signal="pressed" from="WebSocket/Panel/VBoxContainer/Send/Send" to="WebSocket" method="_on_send_pressed" flags=18]
